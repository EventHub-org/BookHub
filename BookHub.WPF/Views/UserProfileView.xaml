<Window x:Class="BookHub.WPF.Views.UserProfileView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        mc:Ignorable="d"
        Title="User Profile" Height="600" Width="800">
    <Window.Resources>
        <!-- Define styles for buttons and profile cards -->
        <Style x:Key="NavButtonStyle" TargetType="Button">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Background" Value="DodgerBlue"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="DodgerBlue"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}" Value="True">
                    <Setter Property="Background" Value="DarkBlue"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="ProfileCardStyle" TargetType="Border">
            <Setter Property="BorderBrush" Value="Gray"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Background" Value="White"/>
        </Style>

        <Style x:Key="ProfileImageStyle" TargetType="Image">
            <Setter Property="Height" Value="100"/>
            <Setter Property="Width" Value="100"/>
            <Setter Property="Stretch" Value="UniformToFill"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="ProfileNameStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Top Section for Navigation Buttons -->
        <Border Background="LightGray" Margin="0,0,0,10" Padding="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top">
                <!-- Navigation Buttons -->
                <Button Content="Collections" Width="120" Command="{Binding NavigateToCollectionsCommand}" Style="{StaticResource NavButtonStyle}"/>
                <Button Content="Books" Width="120" Command="{Binding NavigateToBooksCommand}" Style="{StaticResource NavButtonStyle}"/>
            </StackPanel>
        </Border>

        <!-- Main Content Section -->
        <Grid Margin="0,60,0,0">
            <!-- Top Section for Selected User Profile -->
            <Border Background="LightGray" Padding="10" VerticalAlignment="Top" Height="180" Margin="10">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <!-- User Profile Picture -->
                    <Image Source="{Binding SelectedUser.ProfilePictureUrl}" Style="{StaticResource ProfileImageStyle}" Margin="0,0,0,10"/>
                    <TextBlock Text="{Binding SelectedUser.Name}" Style="{StaticResource ProfileNameStyle}" FontSize="20"/>
                </StackPanel>
            </Border>

            <!-- Section for Other Users -->
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Margin="10,190,10,0">
                <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10">
                    <ItemsControl ItemsSource="{Binding OtherUsers}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="8" Margin="5" Padding="10" Background="White" Width="250">
                                    <StackPanel HorizontalAlignment="Center">
                                        <!-- User Profile Picture -->
                                        <Image Source="{Binding ProfilePictureUrl}" Height="150" Width="150" Stretch="UniformToFill" HorizontalAlignment="Center" Margin="0,0,0,10"/>

                                        <!-- User Name -->
                                        <TextBlock Text="{Binding Name}" FontSize="16" FontWeight="Bold" TextWrapping="Wrap" HorizontalAlignment="Center" Margin="0,0,0,5"/>

                                        <!-- Add to Friends Button -->
                                        <Button Content="Add to Friends" Width="120" Margin="10,5,10,10" Command="{Binding DataContext.AddToFriendsCommand, RelativeSource={RelativeSource AncestorType=Window}}" CommandParameter="{Binding}" Style="{StaticResource NavButtonStyle}"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </WrapPanel>
            </ScrollViewer>


            <!-- Bottom Section for Pagination Controls -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="10">
                <Button Content="&#x25C0;" Width="50" Margin="5" Padding="5" Command="{Binding PreviousPageCommand}" Style="{StaticResource NavButtonStyle}"/>
                <TextBlock Text="{Binding CurrentPage}" VerticalAlignment="Center" Margin="5"/>
                <Button Content="&#x25B6;" Width="50" Margin="5" Padding="5" Command="{Binding NextPageCommand}" Style="{StaticResource NavButtonStyle}"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>